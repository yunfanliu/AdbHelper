# adb助手 v1.0
成品的exe，只运行这个项目即可，不需要安装python和adb，开箱即用。
一个基于PySide6和ADB的图形化安卓设备管理工具，可以方便地管理多个安卓设备，进行应用安装、日志抓取、进程管理等操作。

## 功能特性

- 📱 设备管理：自动识别局域网内的安卓设备
- 📦 应用管理：安装、卸载、清除缓存、杀进程
- 🌐 网络连接：支持通过IP连接设备
- 🖥️ 屏幕投射：集成scrcpy进行屏幕镜像
- 📋 包名管理：预设常用应用包名，支持自定义分组
- 🎨 图形界面：直观易用的Qt图形界面

## 系统要求

- Windows 7及以上版本
- Python 3.7及以上版本（仅开发环境需要）
- （可选）scrcpy用于屏幕投射功能

## 安装与使用

### 方法一：直接使用可执行文件（推荐）

1. 下载或编译生成的 `dist/AdbHelper.exe` 文件
2. 直接双击运行即可，无需安装Python或其他依赖

### 方法二：开发环境运行

1. 克隆或下载本项目
2. 安装依赖：
   ```
   pip install -r requirements.txt
   ```
3. 运行程序：
   ```
   python main.py
   ```

### 编译为可执行文件

双击运行 `build.bat` 脚本即可自动编译为独立的exe文件。

编译完成后，可执行文件位于 `dist/AdbHelper.exe`

## 配置文件说明

### devices.txt
设备MAC地址与名称映射文件，格式为：
```
MAC地址=设备名称
```

支持通过ARP协议自动发现局域网内已知MAC地址的设备，并显示其IP地址和设备名称。

### packages.json
应用包名分组配置文件，可以自定义不同的包名分组。

### settings.json
程序设置文件，包括默认保存路径等配置。

## 功能使用说明

### 1. 设备管理功能

#### 刷新设备
点击"刷新设备"按钮，程序会列出所有通过USB或网络连接的安卓设备。

#### 我的设备
点击"我的设备"按钮，程序会扫描局域网内在线的设备，并结合devices.txt中的MAC地址映射，自动识别已知设备的IP地址和设备名称。

#### 连接IP
点击"连接IP"按钮，在弹出的对话框中输入设备的IP地址，程序会通过ADB连接该设备。

#### 断开连接
选择已连接的设备后，点击"断开连接"按钮可断开与该设备的连接。

### 2. 应用管理功能

#### 安装应用
选择目标设备后，点击"安装应用"按钮，选择APK文件即可安装到设备上。

#### 卸载应用
选择目标设备后，点击"卸载应用"按钮，在弹出的对话框中输入要卸载的应用包名。

#### 杀掉进程
选择目标设备后，点击"杀掉进程"按钮，在弹出的对话框中输入要终止的应用包名。

#### 清除缓存
选择目标设备后，点击"清除缓存"按钮，在弹出的对话框中输入要清除缓存的应用包名。

### 3. 调试辅助功能

#### 抓日志
选择目标设备后，点击"抓日志"按钮，可以抓取指定应用或全部的日志，并保存到本地文件。

#### 截图
选择目标设备后，点击"截图"按钮，程序会在设备上截图并保存到本地。

#### 设备画面
选择目标设备后，点击"设备画面"按钮，可以使用scrcpy进行屏幕投射。

### 4. 设置功能

点击"设置"按钮可以配置以下5个目录路径：

1. **常用包名配置路径**：指向packages.json文件，用于配置常用应用包名分组
2. **设备MAC映射路径**：指向devices.txt文件，用于配置设备MAC地址与名称的映射关系
3. **scrcpy路径**：指向scrcpy.exe文件，用于设备屏幕投射功能
4. **日志输出目录**：指定抓取的日志文件保存目录
5. **截图输出目录**：指定设备截图保存目录

## 设备管理功能详解

### 可使用设备发现
程序可以通过ARP协议扫描局域网内在线的设备，并结合devices.txt中的MAC地址映射，
自动识别已知设备的IP地址和设备名称。

### 设备连接
支持两种连接方式：
1. USB连接：通过USB数据线连接设备
2. 网络连接：通过IP地址连接设备（需要设备开启网络调试）

## 注意事项

- 程序内置了ADB工具，无需额外安装ADB
- 屏幕投射功能需要单独安装scrcpy
- 程序会自动创建日志文件app.log用于问题排查

## 技术栈

- Python 3.7+
- PySide6 (Qt for Python)
- ADB (Android Debug Bridge)
- PyInstaller (打包工具)

## 更新日志

### v1.0 (2025-12-09)
- 全新图形界面设计
- 支持多设备管理
- 集成常用操作功能
- 支持配置文件自定义
- 一键打包为独立exe文件
- 增强设备发现功能，支持MAC地址映射和ARP扫描
- 内置ADB工具，无需额外安装
